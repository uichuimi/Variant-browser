<div class="container">
    <div class="header">
        <span>Genotypes filter</span>
    </div>
    <div class="filtersContainer">
        <div class="filters">
            <form #genotypeFilter="ngForm" (ngSubmit)="addFilter(genotypeFilter)">
                <div class="form-group">
                    <label for="selector">Selector</label>
                    <select #selector="ngModel" name="selector" class="form-control" ngModel required>
                        <option value="ALL">All</option>
                        <option value="ANY">Any</option>
                        <option value="NONE">None</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="number">Number</label>
                    <input 
                        #number="ngModel" 
                        type="number" 
                        name="number" 
                        class="form-control"
                        [disabled]="genotypeFilter.value.selector !== 'ANY'"
                        min="1"
                        value="1"
                        ngModel
                        required>
                </div>
                <div class="form-group">
                    <label for="samples">Samples</label>
                    <ng-multiselect-dropdown
                        name="samples" 
                        ngDefaultControl
                        [settings]="samplesSettings"
                        [data]="individualsList"
                        [(ngModel)]="selectedSamples"
                        class="form-control"
                        style="border: none;"                        
                        required
                    >
                    </ng-multiselect-dropdown>
                </div>   
                <div class="form-group">
                    <label for="genotypes">Genotypes</label>
                    <ng-multiselect-dropdown
                        name="genotypes" 
                        ngDefaultControl
                        [settings]="genotypesSettings"
                        [data]="genotypeTypesList"
                        [(ngModel)]="selectedGenotypeTypes"
                        class="form-control"
                        style="border: none;"
                        required
                    >
                    </ng-multiselect-dropdown>                    
                </div>                              
                <button 
                    type="submit" 
                    [ngClass]="{
                        'disabled': genotypeFilter.invalid || appliedFilters.length === 1, 
                        'addButton': genotypeFilter.valid}" 
                    [disabled]="genotypeFilter.invalid || appliedFilters.length === 1">
                    <span>Add</span>
                </button>
            </form>        
        </div>
        <div class="appliedFilters">
            <div *ngFor="let appliedFilter of appliedFilters.slice(0,5);let indice=index">
                <span>{{ appliedFilter }}</span>
                <button id="removeButton" (click)="removeFilter(indice)">
                    <img src="../../../assets/icon/icons8-residuos-48.png" alt="removeFilter" style="width: 30px; height: 30px;">
                </button>
            </div>
            <span id="extraFilters" *ngIf="appliedFilters.length > 5">+{{ calculateExtraFilters() }} filters applied</span>
        </div>
    </div>
</div>
